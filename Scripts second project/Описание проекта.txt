                                                                     Описание проекта. Сеть ресторанов Gastro Hub

Вы работаете в Gastro Hub — динамично развивающейся корпорации, которая управляет заведениями общественного питания в центре Москвы. 
Gastro Hub известна своими ресторанами, барами, пиццериями и кофейнями — у каждого заведения уникальная атмосфера и концепция. 
Компания постоянно исследует новые кулинарные тренды и заботится о том, чтобы гости каждого заведения наслаждались высоким качеством сервиса и незабываемым вкусом блюд.
Pasta Palace славится традиционной итальянской кухней в сердце города. Spirits & Spices, расположенный на знаменитой улице с барами, 
привлекает молодежь вкусными коктейлями и живой музыкой. Dough & Cheese — любимое место многих за непревзойдённые пиццы, 
а в Hops Heaven можно попробовать отборный кофе, любуясь на городской пейзаж.Грамотный менеджмент требует слаженной работы и чёткого управления информацией. 
Ваша задача — создать базу данных, которая поможет Gastro Hub ещё лучше понимать свой бизнес и оптимизировать работу компании. 
Для этого необходимо работать с большим объёмом данных: информацией о заведениях, меню, менеджерах, среднем чеке и расположении заведений. 
Вы получите сырые, необработанные данные, по которым построите дополнительные таблицы, представления и материализованные представления, а также напишите несколько аналитических запросов. 
Также вы получите дамп — резервную копию базы данных в двух форматах. Чтобы загрузить архивный файл с расширением .sql, используйте функцию pgAdmin Restore. 
Чтобы дамп успешно развернулся, на сервере PostgreSQL должен быть установлен PostGIS. Если у вас возникнут проблемы с разворачиванием дампа, 
воспользуйтесь версией в текстовом формате — файлом с расширением .zip. Это архив — распакуйте его, а затем используйте файл.
Ваш вклад в Gastro Hub поможет компании достигнуть новых высот и удивить гостей ещё более вкусной едой и безупречным сервисом.
                                                                    Задания
Во втором самостоятельном проекте вы построите дополнительные таблицы с продвинутыми типами данных и выполните семь заданий: поработаете с геоданными, 
создадите представления и напишете несколько аналитических запросов, используя оконные функции и подзапросы.
Этап 1. Создание дополнительных таблиц
Сперва создайте дополнительные таблицы с продвинутыми типами данных. 
Вот пошаговая инструкция:
Шаг 1. Cоздайте enum cafe.restaurant_type с типом заведения coffee_shop, restaurant, bar, pizzeria. Используйте этот тип данных при создании таблицы restaurants.
Шаг 2. Создайте таблицу cafe.restaurants с информацией о ресторанах. В качестве первичного ключа используйте случайно сгенерированный uuid. 
Таблица хранит: restaurant_uuid, название заведения, его локацию в формате PostGIS, тип кафе и меню.
Шаг 3. Создайте таблицу cafe.managers с информацией о менеджерах. В качестве первичного ключа используйте случайно сгенерированный uuid. 
Таблица хранит: manager_uuid, имя менеджера и его телефон.
Шаг 4. Создайте таблицу cafe.restaurant_manager_work_dates. Таблица хранит: restaurant_uuid, manager_uuid, дату начала работы в ресторане и дату окончания работы в ресторане. 
Задайте составной первичный ключ из двух полей: restaurant_uuid и manager_uuid. Работа менеджера в ресторане от даты начала до даты окончания — единый период, без перерывов.
Шаг 5. Создайте таблицу cafe.sales со столбцами: date, restaurant_uuid, avg_check. Задайте составной первичный ключ из даты и uuid ресторана.

                                                                   Этап 2. Создание представлений и написание аналитических запросов
Дополнительные таблицы готовы, теперь — пора представлений и запросов.
Задание 1
Чтобы выдать премию менеджерам, нужно понять, у каких заведений самый высокий средний чек. Создайте представление, которое покажет топ-3 заведений внутри каждого типа 
заведения по среднему чеку за все даты. Столбец со средним чеком округлите до второго знака после запятой.
Задание 2
Создайте материализованное представление, которое покажет, как изменяется средний чек для каждого заведения от года к году за все года за исключением 2023 года. 
Все столбцы со средним чеком округлите до второго знака после запятой.
Задание 3
Найдите топ-3 заведения, где чаще всего менялся менеджер за весь период.
Задание 4
Найдите пиццерию с самым большим количеством пицц в меню. Если таких пиццерий несколько, выведите все.
Задание 5
Найдите самую дорогую пиццу для каждой пиццерии.
Задание 6
Найдите два самых близких друг к другу заведения одного типа.
Задание 7
Найдите район с самым большим количеством заведений и район с самым маленьким количеством заведений. Первой строчкой выведите район с самым большим количеством заведений, 
второй — с самым маленьким.
